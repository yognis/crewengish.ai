@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Dynamic viewport height for mobile (set by JS) */
    --vh: 1vh;
  }

  * {
    @apply border-gray-200;
  }

  body {
    @apply bg-white text-gray-900 font-sans;
    /* Prevent bounce scroll on iOS */
    overscroll-behavior: none;
    /* Enable smooth scrolling */
    -webkit-overflow-scrolling: touch;
  }

  /* Mobile viewport: use dynamic --vh instead of vh */
  @media (max-width: 768px) {
    .min-h-screen-mobile {
      min-height: calc(var(--vh, 1vh) * 100);
    }

    .h-screen-mobile {
      height: calc(var(--vh, 1vh) * 100);
    }

    .max-h-screen-mobile {
      max-height: calc(var(--vh, 1vh) * 100);
    }
  }

  /* Hide focus indicators by default (shown only during keyboard navigation) */
  *:focus {
    outline: none;
  }

  /* Show focus indicators when keyboard navigation is active */
  body.keyboard-navigation-active *:focus {
    @apply outline-2 outline-offset-2 outline-thy-red;
  }

  /* Always show focus for buttons and links (accessibility) */
  button:focus-visible,
  a:focus-visible,
  [role="button"]:focus-visible {
    @apply outline-2 outline-offset-2 outline-thy-red;
  }

  /* Touch target size: minimum 44x44px for mobile (WCAG 2.1 AAA) */
  @media (max-width: 768px) {
    button,
    a,
    [role="button"],
    input[type="button"],
    input[type="submit"] {
      min-height: 44px;
      min-width: 44px;
    }
  }
}

@layer components {
  /* Custom button styles */
  .btn-primary {
    @apply bg-thy-red hover:bg-thy-darkRed text-white font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-secondary {
    @apply bg-white hover:bg-gray-50 text-thy-gray border-2 border-gray-300 font-semibold py-3 px-6 rounded-lg transition-colors;
  }

  /* Card styles */
  .card {
    @apply bg-white rounded-xl shadow-md p-6 border border-gray-100;
  }

  /* Input styles */
  .input {
    @apply w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-thy-red focus:border-transparent outline-none transition-all;
  }

  /* Legal page typography */
  .legal-content {
    font-size: 17px;
    line-height: 1.75;
    max-width: 72ch;
  }

  .legal-content h2 {
    @apply mt-10 mb-4;
  }

  .legal-content h3 {
    @apply mt-8 mb-3;
  }

  .legal-content ul, .legal-content ol {
    @apply space-y-2 ml-6;
  }

  .legal-content ul {
    @apply list-disc;
  }

  .legal-content ol {
    @apply list-decimal;
  }
}

/* Print styles for legal pages */
@media print {
  @page {
    margin: 2cm;
    size: A4;
  }

  body {
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
  }

  .print\\:hidden {
    display: none !important;
  }

  nav, footer, button, .no-print, aside {
    display: none !important;
  }

  .legal-content {
    max-width: 100% !important;
    font-size: 11pt;
    line-height: 1.5;
  }

  h1 {
    font-size: 18pt;
    margin-bottom: 12pt;
  }

  h2 {
    font-size: 14pt;
    margin-top: 16pt;
    margin-bottom: 8pt;
  }

  h3 {
    font-size: 12pt;
    margin-top: 12pt;
    margin-bottom: 6pt;
  }

  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
    break-after: avoid;
  }

  p, ul, ol {
    page-break-inside: avoid;
    break-inside: avoid;
    margin-bottom: 8pt;
  }

  a {
    text-decoration: none;
    color: #000 !important;
    border-bottom: 1px dotted #666;
  }

  a[href^="mailto:"]:after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }

  /* Simplify colored boxes for print */
  div[class*="bg-amber"],
  div[class*="bg-blue"],
  div[class*="bg-green"],
  div[class*="bg-gray"] {
    background: white !important;
    border: 1px solid #999 !important;
    padding: 8pt !important;
    margin: 8pt 0 !important;
  }
}

